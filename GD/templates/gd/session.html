{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>GD Session | InteleView AI</title>
    <link rel="stylesheet" href="{% static 'gd/gd.css' %}">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>

<div class="container gd-session mt-5">
    <h2 class="text-center mb-4">ğŸ¤ Topic <span id="topic-number">1</span> of 3</h2>

    <div id="topic-box" class="topic-box p-3 mb-3 rounded bg-light border fs-5 fw-semibold">
    Loading topic...
</div>


    <div class="text-center mb-4">
        <button id="start-btn" class="btn btn-success me-2">ğŸ™ï¸ Start Speaking</button>
        <button id="skip-btn" class="btn btn-warning me-2">â­ï¸ Skip</button>
        <button id="stop-btn" class="btn btn-danger">ğŸ›‘ Stop Early</button>
    </div>

    <div class="timer text-center fs-4 mb-3" id="timer">03:00</div>

    <textarea id="transcription" class="form-control mb-4" rows="6" placeholder="Speech will be transcribed here..." readonly></textarea>

    <!-- Feedback -->
    <div id="feedbackSection" class="d-none mt-4">
        <h4 class="text-success">âœ… AI Feedback</h4>
        <div id="aiFeedback" class="bg-white p-3 border rounded shadow-sm"></div>
    </div>
</div>

<!-- Dynamic Topics passed from Django -->
{{ topics|json_script:"topics-data" }}
<script>
    const topics = JSON.parse(document.getElementById('topics-data').textContent);
    const submitResultsURL = "{% url 'GD:submit_results' %}";
    const resultsURL = "{% url 'GD:gd_results' %}";
</script>

<!-- Final JS -->
<script src="{% static 'gd/gd.js' %}"></script>
</body>
</html>
